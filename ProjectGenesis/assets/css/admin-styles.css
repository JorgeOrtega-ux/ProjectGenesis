/* ====================================== */
/* = COMPONENTE STEPPER (ADMIN SERVER)  = */
/* ====================================== */

.component-stepper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border: 1px solid #00000020;
    border-radius: 8px;
    background-color: #ffffff;
    height: 40px; /* <<< ALTURA DE 40PX SOLICITADA */
    width: 100%;
    padding: 0 4px; /* Padding para los botones */
    box-sizing: border-box;
    user-select: none;
    transition: opacity 0.2s, background-color 0.2s;
}

/* Estado deshabilitado para el JS */
.component-stepper.disabled-interactive {
    pointer-events: none;
    opacity: 0.7;
    background-color: #f5f5fa;
}

.stepper-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;  /* Ajustado para 40px de alto */
    height: 32px; /* Ajustado para 40px de alto */
    background-color: transparent;
    border: none;
    border-radius: 8px; /* Redondeo para el hover */
    cursor: pointer;
    color: #000;
    transition: background-color 0.2s;
    flex-shrink: 0;
    padding: 0;
    outline: none;
}

.stepper-button:hover:not(:disabled) {
    background-color: #f5f5fa;
}

.stepper-button:disabled {
    color: #00000040;
    cursor: not-allowed;
    background-color: transparent;
}

.stepper-value {
    flex-grow: 1;
    text-align: center;
    font-size: 16px; /* Mantenemos el tamaño de fuente */
    font-weight: 600;
    color: #000;
    padding: 0 8px;
}

/* ====================================== */
/* =  LISTA DE DOMINIOS (ADMIN SERVER)  = */
/* ====================================== */

.domain-card-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding-top: 8px;
    width: 100%;
}

.domain-card-item {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background-color: transparent;
    border: 1px solid #00000020;
    border-radius: 8px;
    padding: 8px 12px;
    font-size: 14px;
    font-weight: 500;
    color: #000;
    position: relative;
    transition: border-color 0.2s, background-color 0.2s;
}

.domain-card-item .material-symbols-rounded {
    font-size: 18px;
    color: #6b7280;
}

.domain-card-item:hover {
    border-color: #000;
}
/* --- ▼▼▼ INICIO DE MODIFICACIÓN (AÑADIDO DASHBOARD) ▼▼▼ --- */
.section-content[data-section="admin-users"] .component-wrapper,
.section-content[data-section="admin-backups"] .component-wrapper,
.section-content[data-section="admin-dashboard"] .component-wrapper,
.section-content[data-section="admin-logs"] .component-wrapper,
.section-content[data-section="admin-backups-delete-confirm"] .component-wrapper,
.section-content[data-section="admin-backups-restore-confirm"] .component-wrapper {
    padding-top: 82px; 
}
/* --- ▲▲▲ FIN DE MODIFICACIÓN ▲▲▲ --- */
.domain-card-delete {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background-color: #000;
    color: #fff;
    border: none;
    cursor: pointer;
    padding: 0;
    opacity: 0;
    visibility: hidden;
    transform: scale(0.8);
    transition: opacity 0.2s, transform 0.2s, visibility 0.2s;
}

.domain-card-item:hover .domain-card-delete {
    opacity: 1;
    visibility: visible;
    transform: scale(1);
}

.domain-card-delete .material-symbols-rounded {
    font-size: 16px;
    color: #fff;
}

/* ====================================== */
/* =  ESTILOS ADMIN - GESTIONAR USUARIOS = */
/* ====================================== */

/* --- ▼▼▼ INICIO DE MODIFICACIÓN ▼▼▼ --- */
.card-list-container {
    display: flex;
    flex-direction: column; /* Apila las tarjetas verticalmente */
    gap: 16px; /* Espacio entre cada tarjeta de usuario */
}

.card-item {
    display: flex;
    align-items: center; /* Alinea verticalmente los elementos dentro de la tarjeta */
    background-color: #ffffff; /* Color de fondo de tus tarjetas */
    border: 1px solid #00000020; /* Borde estándar de tus componentes */
    border-radius: 12px; /* Borde redondeado de tus tarjetas */
    padding: 16px 20px;
    gap: 20px; /* Espacio entre el avatar y los detalles */
    /* --- ▼▼▼ NUEVAS PROPIEDADES ▼▼▼ --- */
    cursor: pointer;
    transition: border-color 0.2s ease, background-color 0.2s ease;
}

/* --- ▼▼▼ NUEVA CLASE ▼▼▼ --- */
.card-item:hover {
    background-color: #f5f5fa;
}

/* --- ▼▼▼ NUEVA CLASE ▼▼▼ --- */
.card-item.selected {
    border-color: #000000; /* Azul */
}


/* Clases para el avatar eliminadas (.user-card-avatar-wrapper, .user-card-avatar) */
/* Ahora usamos .component-card__avatar que ya existe */

.card-item-details {
    display: flex;
    flex-wrap: wrap; /* Envuelve los ítems de detalle si no hay espacio */
    gap: 10px; /* Espacio entre los "pills" de detalle */
    flex-grow: 1; /* Permite que los detalles ocupen el espacio restante */
}

.card-detail-item {
    display: flex;
    align-items: center;
    background-color: transparent; /* Fondo de tus inputs */
    border: 1px solid #00000020; /* Borde de tus inputs */
    border-radius: 50px; /* Borde redondeado de tus inputs/botones */
    padding: 8px 12px;
    font-size: 14px; /* Tamaño de fuente de tus botones/inputs */
    color: #000000; /* Color de texto de tus inputs */
    gap: 8px; /* Espacio entre label y value */
}

.card-detail-label {
    font-weight: 600; /* Texto de etiqueta más fuerte */
    color: #6b7280; /* Color de texto de descripción/labels */
}

.card-detail-value {
    font-weight: 500;
}
/* --- ▲▲▲ FIN DE MODIFICACIÓN ▲▲▲ --- */

/* Clase .user-card-actions eliminada */

/* Responsive adjustments */
@media (max-width: 768px) {
    /* --- ▼▼▼ INICIO DE MODIFICACIÓN ▼▼▼ --- */
    .card-item {
        flex-direction: column; /* Apila elementos en pantallas pequeñas */
        align-items: flex-start;
        padding: 16px;
        gap: 16px;
    }
    
    .card-item .component-card__avatar {
        margin: 0 auto; /* Centra el avatar en móvil */
    }
    
    .card-item-details {
        width: 100%; /* Los detalles ocupan todo el ancho */
    }

    .card-detail-item {
        width: 100%; /* Cada "pill" ocupa todo el ancho */
        box-sizing: border-box;
    }
    /* --- ▲▲▲ FIN DE MODIFICACIÓN ▲▲▲ --- */
}
/* ====================================== */
/* =  ESTILOS PAGE TOOLBAR (GENÉRICO)   = */
/* ====================================== */


/* --- ▼▼▼ NUEVO: Contenedor para AMBOS toolbars ▼▼▼ --- */
.page-toolbar-container {
    /* Esto es lo que solía ser el .admin-toolbar-floating */
    position: absolute;
    top: 16px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
    max-width: 500px;
    width: 95%;
    
    /* Propiedades del container */
    display: flex;
    flex-direction: column;
    gap: 8px; /* Espacio entre el toolbar principal y el de búsqueda */
    box-sizing: border-box;
}
/* --- ▼▼▼ NUEVO: Posicionamiento del Popover de Filtro ▼▼▼ */
.page-toolbar-container .popover-module[data-module="modulePageFilter"] {
    position: absolute;
    top: calc(100% + 8px); /* Debajo del primer toolbar */
    left: 0;
    right: auto;
    width: 280px; /* Ancho estándar del menú */
    z-index: 10;
}

/* --- ▼▼▼ NUEVO: Botón de filtro activo ▼▼▼ */
.page-toolbar-button[data-action="toggleModulePageFilter"].active {
    border-color: #000000;
    background-color: #000000;
    color: #ffffff;
}

/* --- ▼▼▼ NUEVO: Encabezado para menús (reutilizable) ▼▼▼ */
.menu-header {
    padding: 8px 12px 4px;
    font-size: 12px;
    font-weight: 600;
    color: #6b7280;
    text-transform: uppercase;
    user-select: none;
}
.page-toolbar-floating {
    display: flex;
    /* justify-content: space-between; */ /* <-- ELIMINADO */
    align-items: center;
    width: 100%;
    padding: 8px 8px;
    background-color: #ffffff;
    border-radius: 12px;
    box-shadow: 0 4px 12px #00000020;
    box-sizing: border-box;
    height: auto;
    position: relative; /* <-- AÑADIDO */
}

/* --- ▼▼▼ INICIO DE REGLAS CORREGIDAS PARA VISTAS DE TOOLBAR ▼▼▼ --- */

/* Los contenedores de estado (default/selection) son los hijos directos */
.toolbar-action-default,
.toolbar-action-selection {
    display: flex;
    justify-content: space-between; /* <-- AÑADIDO */
    align-items: center; /* <-- AÑADIDO */
    width: 100%; /* <-- AÑADIDO */
    gap: 8px; /* <-- AÑADIDO */
}

.page-toolbar-left,
.page-toolbar-right {
    display: flex;
    align-items: center;
    gap: 8px;
}

/* 1. Estilo base para los botones (CORREGIDO A ICON-ONLY) */
.page-toolbar-button {
    display: flex;
    align-items: center;
    justify-content: center;
    /* --- MODIFICADO --- */
    width: 35px;  /* 50px (altura barra) - 8px*2 (padding) = 34px */
    height: 35px; /* 50px (altura barra) - 8px*2 (padding) = 34px */
    /* --- FIN MODIFICACIÓN --- */
    background-color: transparent;
    border: 1px solid #00000020;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s;
    /* --- ▼▼▼ LÍNEAS ELIMINADAS (NO MÁS BOTONES DE TEXTO) ▼▼▼ --- */
    /* width: auto; */
    /* padding: 0 12px; */
}
.page-toolbar-button:not(:disabled):hover {
    background-color: #f5f5fa;
}
.page-toolbar-button:disabled {
    color: #00000040;
    cursor: not-allowed;
    opacity: 0.7; /* <-- MODIFICADO */
}

/* --- ▼▼▼ REGLA ELIMINADA (YA NO ES NECESARIA) ▼▼▼ --- */
/* .page-toolbar-button:has(.material-symbols-rounded:only-child) { ... } */


/* 2. Estilo para el CONTENEDOR de paginación */
.page-toolbar-pagination {
    display: flex;
    align-items: center;
    gap: 0;
    height: 35px;
    border: 1px solid #00000020;
    border-radius: 8px; 
    overflow: hidden;
}

/* 3. SOBREESCRIBIR los botones DENTRO del contenedor de paginación */
.page-toolbar-pagination .page-toolbar-button {
    border: none;
    border-radius: 0;
    /* --- MODIFICADO --- */
    width: 34px; /* Forzar tamaño de icono */
    /* --- FIN MODIFICACIÓN --- */
    padding: 0; /* Asegurarse que no tenga padding */
}

/* 4. Estilo para el TEXTO de paginación */
.page-toolbar-page-text {
    font-size: 14px;
    font-weight: 500;
    color: #6b7280;
    padding: 0 12px;
    user-select: none;
    /* --- MODIFICADO --- */
    height: 34px; /* 50px (altura barra) - 8px*2 (padding) = 34px */
    /* --- FIN MODIFICACIÓN --- */
    display: flex;
    align-items: center;
}

/* --- ▼▼▼ NUEVO: Estilo para el botón de búsqueda ACTIVO ▼▼▼ --- */
.page-toolbar-button[data-action="admin-toggle-search"].active {
    border-color: #000000; /* Azul como en la imagen */
    background-color: #000000;
    color: #ffffff;
}

/* --- ▼▼▼ NUEVO: Estilo para la barra de búsqueda ▼▼▼ --- */
.page-search-bar {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 12px;
    /* --- MODIFICADO --- */
    height: auto; /* Altura fija de 50px */
    /* --- FIN MODIFICACIÓN --- */
    background-color: #ffffff;
    border: 1px solid #00000020;
    border-radius: 8px;
    box-sizing: border-box;
    width: 100%; /* <-- AÑADIDO PARA QUE LLENE EL NUEVO DIV FLOTANTE */
}
/* Añadir al final de assets/css/styles.css */

/* Para los toolbars (incluyendo la barra de búsqueda) */
.page-toolbar-floating.disabled {
    display: none;
}
.page-toolbar-floating.active {
    display: flex;
}

/* Para los estados de edición en admin-edit-user.php */
.component-card__content.disabled,
.component-card__actions.disabled {
    display: none;
}
.component-card__content.active,
.component-card__actions.active {
    display: flex;
}

/* Para los pasos en los formularios de settings */
.component-card.disabled {
    display: none;
}
.component-card.active {
    display: flex;
}

/* Para los mensajes de error */
.component-card__error {
    display: none; /* Oculto por defecto */
}
.component-card__error.active {
    display: block; /* O 'flex' si necesita centrar contenido */
}

/* Para los pasos de autenticación (auth-manager.js usa 'block') */
.auth-step.active {
    display: flex; /* Aseguramos que 'active' signifique 'flex' */
}
.auth-error-message {
    display: none; /* Oculto por defecto */
}
.auth-error-message.active {
    display: block;
}
.page-search-bar .material-symbols-rounded {
    color: #6b7280;
    font-size: 20px;
}

.page-search-bar .page-search-input {
    width: 100%;
    height: 100%;
    border: none;
    outline: none;
    background: transparent;
    font-size: 14px;
    font-weight: 500;
    color: #000;
}

.page-search-bar .page-search-input::placeholder {
    color: #6b7280;
    font-weight: 400;
}

/* --- ▼▼▼ INICIO DE REGLAS CORREGIDAS PARA VISTAS DE TOOLBAR ▼▼▼ --- */

/* Por defecto, las acciones de selección están ocultas */
.toolbar-action-selection {
    display: none;
}
/* Por defecto, las acciones default están visibles */
.toolbar-action-default {
    display: flex;
}


/* Cuando la selección está activa... */
.page-toolbar-container.selection-active .toolbar-action-default {
    display: none; /* Ocultar acciones default */
}
.page-toolbar-container.selection-active .toolbar-action-selection {
    display: flex; /* Mostrar acciones de selección */
}
/* --- ▲▲▲ FIN DE REGLAS CORREGIDAS PARA VISTAS DE TOOLBAR ▲▲▲ --- */


/* Ajuste para móvil */
@media (max-width: 700px) {
    /* Esta regla ahora aplica al nuevo contenedor, lo cual es correcto */
    .page-toolbar-container {
        width: calc(100% - 32px);
    }
    
    /* --- ▼▼▼ REGLAS ELIMINADAS (YA NO SON NECESARIAS) ▼▼▼ --- */
    /* .page-toolbar-button[data-i18n] { ... } */
    /* .page-toolbar-button[data-i18n] .material-symbols-rounded { ... } */
    /* .page-toolbar-button[data-action="admin-clear-selection"] { ... } */
}/* ====================================== */
/* =  COMPONENTE ACORDEÓN (NUEVO)       = */
/* ====================================== */

/* Este es el cabecero de categoría. 
  Está diseñado para que parezca una tarjeta, 
  exactamente como en tu imagen.
*/
.component-accordion__header {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px;
    cursor: pointer;
    user-select: none;
    
    /* Apariencia de tarjeta */
    border: 1px solid #00000020;
    border-radius: 12px;
    background-color: #ffffff;
    transition: all 0.2s ease-in-out;
}

/* Oscurecer al pasar el ratón solo si está CERRADO */
.component-accordion__header:not(.active):hover {
    background-color: #f5f5fa;
}

/* Mantener el fondo oscuro si está ABIERTO (como en tu foto)
  En esta versión, el cabecero NO se fusiona con las tarjetas,
  así que mantiene sus bordes redondeados.
*/
.component-accordion__header.active {
    background-color: #f5f5fa;
}

.component-accordion__icon {
    width: 48px;
    height: 48px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid #00000020;
    background-color: #ffffff;
    color: #000000;
    flex-shrink: 0;
}

.component-accordion__icon .material-symbols-rounded {
    font-size: 24px;
}

.component-accordion__text {
    flex-grow: 1;
}

.component-accordion__title {
    font-size: 16px;
    font-weight: 600;
    color: #000000;
    line-height: 1.4;
}

.component-accordion__description {
    font-size: 14px;
    color: #6b7280;
    line-height: 1.4;
}

.component-accordion__arrow {
    flex-shrink: 0;
    transition: transform 0.3s ease;
}

/* Gira la flecha cuando el cabecero tiene la clase .active */
.component-accordion__header.active .component-accordion__arrow {
    transform: rotate(180deg);
}

/* Esta regla oculta el contenido que no está activo.
  (El JS se encargará de poner 'display: flex'
  a las tarjetas .component-card hermanas)
*/
.component-accordion__content {
    display: none; 
}

@media (max-width: 468px) {
    #admin-avatar-actions-default,
    #admin-avatar-actions-custom,
    #admin-avatar-actions-preview {
        /* display: flex;  <-- ESTA LÍNEA CAUSABA EL BUG. Se elimina. */
        width: 100%;
        gap: 12px; /* 'gap' es redundante por el style="" pero inofensivo */
    }
}